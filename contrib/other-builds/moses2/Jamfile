alias deps :  ../../..//z ../../..//boost_iostreams ../../..//boost_filesystem ../../../moses/TranslationModel/CompactPT//cmph ../../../moses//moses ;

 lib moses2_lib :
	EstimatedScores.cpp
 	 InputPath.cpp 
 	 InputPaths.cpp
   InputType.cpp
 	 MemPool.cpp
   Phrase.cpp 
   Sentence.cpp
   Scores.cpp 
 	 System.cpp 
   TargetPhrase.cpp 
   TargetPhrases.cpp
   TranslationTask.cpp
   Vector.cpp
   Weights.cpp 
		Word.cpp 
		FF/Distortion.cpp
   	FF/FeatureFunction.cpp 
   	FF/FeatureFunctions.cpp 
    FF/LexicalReordering.cpp
    FF/PhrasePenalty.cpp
    FF/SkeletonStatefulFF.cpp
    FF/SkeletonStatelessFF.cpp
    FF/StatefulFeatureFunction.cpp
    FF/StatelessFeatureFunction.cpp
    FF/WordPenalty.cpp
 #   LM/LanguageModelDALM.cpp
    LM/LanguageModel.cpp
    LM/KENLM.cpp
 	 	TranslationModel/PhraseTable.cpp 
 	 	TranslationModel/PhraseTableMemory.cpp 
 	 	TranslationModel/ProbingPT.cpp 
 	 	TranslationModel/UnknownWordPenalty.cpp 
   	Search/ArcLists.cpp
		Search/Hypothesis.cpp 
 	 	Search/Manager.cpp 
 	 	Search/Search.cpp
 	 	Search/SearchNormal.cpp
 	 	Search/Stack.cpp 
 	 	Search/Stacks.cpp 

		Search/CubePruningMiniStack/Misc.cpp
 	 	Search/CubePruningMiniStack/Search.cpp
 	 	Search/CubePruningMiniStack/Stack.cpp 

 	 	Search/CubePruningCardinalStack/Misc.cpp
 	 	Search/CubePruningCardinalStack/Search.cpp
 	 	Search/CubePruningCardinalStack/Stack.cpp

 	 	Search/CubePruningBitmapStack/Misc.cpp
 	 	Search/CubePruningBitmapStack/Search.cpp
 	 	Search/CubePruningBitmapStack/Stack.cpp

 	 	Search/CubePruningPerBitmap/Misc.cpp
 	 	Search/CubePruningPerBitmap/Search.cpp
 	 	Search/CubePruningPerBitmap/Stacks.cpp

 	 	Search/CubePruningPerMiniStack/Misc.cpp
 	 	Search/CubePruningPerMiniStack/Search.cpp
 	 	Search/CubePruningPerMiniStack/Stacks.cpp

		legacy/Bitmap.cpp
		legacy/Bitmaps.cpp
		legacy/Factor.cpp
		legacy/FactorCollection.cpp
		legacy/InputFileStream.cpp
		legacy/Matrix.cpp
		legacy/OutputFileStream.cpp
		legacy/Parameter.cpp
		legacy/Range.cpp
		legacy/Range.cpp
		legacy/ThreadPool.cpp
		legacy/Timer.cpp
		legacy/Util2.cpp

    legacy/ProbingPT/hash.cpp
    legacy/ProbingPT/line_splitter.cpp
    legacy/ProbingPT/probing_hash_utils.cpp
    legacy/ProbingPT/quering.cpp
    legacy/ProbingPT/storing.cpp
    legacy/ProbingPT/StoreTarget.cpp
    legacy/ProbingPT/vocabid.cpp

    legacy/CompactPT/BlockHashIndex.cpp
    legacy/CompactPT/CmphStringVectorAdapter.cpp
    legacy/CompactPT/LexicalReorderingTableCompact.cpp
    legacy/CompactPT/MurmurHash3.cpp
    legacy/CompactPT/ThrowingFwrite.cpp
    deps ;

exe moses2 : Main.cpp moses2_lib ;
exe CreateProbingPT2 : CreateProbingPT2.cpp moses2_lib ;

alias programs : moses2 CreateProbingPT2 ;

