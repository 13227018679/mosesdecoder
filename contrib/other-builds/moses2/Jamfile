# If you get compilation errors here, make sure you have xmlrpc-c
# installed properly, including the abyss server option.

import option ;
import path ;

external-lib boost_serialization ;

#local with-dalm = [ option.get "with-dalm" ] ;

#lib dalm : : <search>$(with-dalm)/lib ;
#alias dalm-libs : dalm ;

 exe moses2 :
 	 InputPath.cpp 
 	 InputPaths.cpp
   InputType.cpp
 	 Main.cpp 
 	 MemPool.cpp
   Phrase.cpp 
   Sentence.cpp
   Scores.cpp 
 	 System.cpp 
   TargetPhrase.cpp 
   TargetPhrases.cpp
   TranslationTask.cpp
   Vector.cpp
   Weights.cpp 
		Word.cpp 
		FF/Distortion.cpp
   	FF/FeatureFunction.cpp 
   	FF/FeatureFunctions.cpp 
    FF/PhrasePenalty.cpp
    FF/SkeletonStatefulFF.cpp
    FF/SkeletonStatelessFF.cpp
    FF/StatefulFeatureFunction.cpp
    FF/StatelessFeatureFunction.cpp
    FF/WordPenalty.cpp
 #   LM/LanguageModelDALM.cpp
    LM/LanguageModel.cpp
    LM/KENLM.cpp
 	 	TranslationModel/PhraseTable.cpp 
 	 	TranslationModel/PhraseTableMemory.cpp 
 	 	TranslationModel/ProbingPT.cpp 
 	 	TranslationModel/UnknownWordPenalty.cpp 
   	Search/ArcLists.cpp
		Search/Hypothesis.cpp 
 	 	Search/Manager.cpp 
 	 	Search/Search.cpp
 	 	Search/SearchNormal.cpp
 	 	Search/SearchNormalBatch.cpp
 	 	Search/Stack.cpp 
 	 	Search/Stacks.cpp 
		Search/CubePruning/Misc.cpp
 	 	Search/CubePruning/Search.cpp
 	 	Search/CubePruning/Stack.cpp 
 	 	Search/CubePruning/Stacks.cpp 
		legacy/Bitmap.cpp
		legacy/Bitmaps.cpp
		legacy/Factor.cpp
		legacy/FactorCollection.cpp
		legacy/InputFileStream.cpp
		legacy/Parameter.cpp
		legacy/Range.cpp
		legacy/Range.cpp
		legacy/SquareMatrix.cpp
		legacy/ThreadPool.cpp
		legacy/Timer.cpp
		legacy/Util2.cpp
    legacy/ProbingPT/hash.cpp
    legacy/ProbingPT/huffmanish.cpp
    legacy/ProbingPT/line_splitter.cpp
    legacy/ProbingPT/probing_hash_utils.cpp
    legacy/ProbingPT/quering.cpp
    legacy/ProbingPT/vocabid.cpp
    
 ../../../moses//moses 
 ../../../OnDiskPt//OnDiskPt 
 ../../..//boost_filesystem  
# dalm-libs
 : <linkflags>$(xmlrpc-linkflags) <cxxflags>$(xmlrpc-cxxflags) <cxxflags>-std=c++11 <library>boost_serialization <include>$(with-dalm)/include <include>$(with-dalm)/darts-clone ;
# MUST have space before semicolon ;

#  alias dalmALIAS : dalm-libs : : : <define>LM_DALM ;
#  dependencies += dalmALIAS ;

