alias deps :  ../../..//z ../../..//boost_iostreams ../../..//boost_filesystem ../../../moses/TranslationModel/CompactPT//cmph ../../../moses//moses ;

 lib moses2_lib :
   EstimatedScores.cpp
   HypothesisBase.cpp
   HypothesisColl.cpp
   InputPathBase.cpp 
   InputPathsBase.cpp
   InputType.cpp
   ManagerBase.cpp
   MemPool.cpp
   Phrase.cpp 
   PhraseImpl.cpp 
   Sentence.cpp
   Scores.cpp 
   SubPhrase.cpp
   System.cpp 
   TargetPhrases.cpp
   TranslationTask.cpp
   Vector.cpp
   Weights.cpp 
   Word.cpp 
   FF/Distortion.cpp
   FF/FeatureFunction.cpp 
   FF/FeatureFunctions.cpp 
    FF/LexicalReordering.cpp
    FF/PhrasePenalty.cpp
    FF/SkeletonStatefulFF.cpp
    FF/SkeletonStatelessFF.cpp
    FF/StatefulFeatureFunction.cpp
    FF/StatelessFeatureFunction.cpp
    FF/WordPenalty.cpp
 #   LM/LanguageModelDALM.cpp
    LM/LanguageModel.cpp
    LM/KENLM.cpp
 	 	TranslationModel/PhraseTable.cpp 
 	 	TranslationModel/PhraseTableMemory.cpp 
 	 	TranslationModel/ProbingPT.cpp 
 	 	TranslationModel/UnknownWordPenalty.cpp 
   	
		PhraseBased/ArcLists.cpp
		PhraseBased/Hypothesis.cpp 
 	 	PhraseBased/InputPath.cpp
 	 	PhraseBased/InputPaths.cpp
		PhraseBased/Manager.cpp 
 	 	PhraseBased/Search.cpp
		PhraseBased/TargetPhraseImpl.cpp 
 	 	
		PhraseBased/Normal/Search.cpp
 	 	PhraseBased/Normal/Stack.cpp 
 	 	PhraseBased/Normal/Stacks.cpp 

		PhraseBased/CubePruningMiniStack/Misc.cpp
 	 	PhraseBased/CubePruningMiniStack/Search.cpp
 	 	PhraseBased/CubePruningMiniStack/Stack.cpp 

#	 	PhraseBased/CubePruningCardinalStack/Misc.cpp
# 	 	PhraseBased/CubePruningCardinalStack/Search.cpp
# 	 	PhraseBased/CubePruningCardinalStack/Stack.cpp

# 	 	PhraseBased/CubePruningBitmapStack/Misc.cpp
# 	 	PhraseBased/CubePruningBitmapStack/Search.cpp
# 	 	PhraseBased/CubePruningBitmapStack/Stack.cpp

# 	 	PhraseBased/CubePruningPerBitmap/Misc.cpp
# 	 	PhraseBased/CubePruningPerBitmap/Search.cpp
# 	 	PhraseBased/CubePruningPerBitmap/Stacks.cpp

# 	 	PhraseBased/CubePruningPerMiniStack/Misc.cpp
# 	 	PhraseBased/CubePruningPerMiniStack/Search.cpp
# 	 	PhraseBased/CubePruningPerMiniStack/Stacks.cpp

		legacy/Bitmap.cpp
		legacy/Bitmaps.cpp
		legacy/Factor.cpp
		legacy/FactorCollection.cpp
		legacy/InputFileStream.cpp
		legacy/Matrix.cpp
		legacy/OutputFileStream.cpp
		legacy/Parameter.cpp
		legacy/Range.cpp
		legacy/Range.cpp
		legacy/ThreadPool.cpp
		legacy/Timer.cpp
		legacy/Util2.cpp

    legacy/ProbingPT/hash.cpp
    legacy/ProbingPT/line_splitter.cpp
    legacy/ProbingPT/probing_hash_utils.cpp
    legacy/ProbingPT/quering.cpp
    legacy/ProbingPT/storing.cpp
    legacy/ProbingPT/StoreTarget.cpp
    legacy/ProbingPT/vocabid.cpp

    legacy/CompactPT/BlockHashIndex.cpp
    legacy/CompactPT/CmphStringVectorAdapter.cpp
    legacy/CompactPT/LexicalReorderingTableCompact.cpp
    legacy/CompactPT/MurmurHash3.cpp
    legacy/CompactPT/ThrowingFwrite.cpp

    SCFG/Manager.cpp
    SCFG/PhraseImpl.cpp
    SCFG/Stack.cpp
    SCFG/Stacks.cpp
    SCFG/TargetPhraseImpl.cpp
    SCFG/Word.cpp

    deps ;

exe moses2 : Main.cpp moses2_lib ;
exe CreateProbingPT2 : CreateProbingPT2.cpp moses2_lib ;

alias programs : moses2 CreateProbingPT2 ;

