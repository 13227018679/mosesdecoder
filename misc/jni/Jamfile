
local includes = <include>. ;
local with-java = [ option.get "with-java" ] ;
if $(with-java) {
    includes += <include>$(with-java)/include ;
    includes += <include>$(with-java)/include/linux ;
}

lib JniQueryPt : QueryPt.cpp QueryPt_wrap.cpp ../../moses/src//moses : <link>shared $(includes) ;

make JniQueryPt.jar : build.xml : @ant ;

actions ant
{
    ant -f $(2)
}

alias jni : JniQueryPt JniQueryPt.jar ;