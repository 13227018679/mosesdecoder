alias headers : ../../util//util : : : <include>. ;

lib z ;
alias InputFileStream : InputFileStream.cpp z headers ;

if [ option.get "with-synlm" : no : yes ] = yes
{
  lib m ;
  obj SyntacticLanguageModel.o : SyntacticLanguageModel.cpp headers : <include>$(TOP)/synlm/hhmm/rvtl/include <include>$(TOP)/synlm/hhmm/wsjparse/include ;
  alias synlm : SyntacticLanguageModel.o m : : : <define>HAVE_SYNLM ;
} else {
  alias synlm ;
}

lib moses :
AlignmentInfo.cpp
AlignmentInfoCollection.cpp
BilingualDynSuffixArray.cpp
BitmapContainer.cpp
ChartCell.cpp
ChartCellCollection.cpp
ChartHypothesis.cpp
ChartHypothesisCollection.cpp
ChartManager.cpp
ChartRuleLookupManager.cpp
ChartRuleLookupManagerMemory.cpp
ChartRuleLookupManagerOnDisk.cpp
ChartTranslationOption.cpp
ChartTranslationOptionCollection.cpp
ChartTranslationOptionList.cpp
ChartTrellisDetour.cpp
ChartTrellisDetourQueue.cpp
ChartTrellisNode.cpp
ChartTrellisPath.cpp
ConfusionNet.cpp
DecodeFeature.cpp
DecodeGraph.cpp
DecodeStep.cpp
DecodeStepGeneration.cpp
DecodeStepTranslation.cpp
Dictionary.cpp
DotChart.cpp
DotChartInMemory.cpp
DotChartOnDisk.cpp
DummyScoreProducers.cpp
DynSAInclude/file.cpp
DynSAInclude/vocab.cpp
DynSuffixArray.cpp
FFState.cpp
Factor.cpp
FactorCollection.cpp
FactorTypeSet.cpp
FeatureFunction.cpp
FloydWarshall.cpp
GenerationDictionary.cpp
GlobalLexicalModel.cpp
hash.cpp
Hypothesis.cpp
HypothesisStack.cpp
HypothesisStackCubePruning.cpp
HypothesisStackNormal.cpp
InputType.cpp
LMList.cpp
LVoc.cpp
LexicalReordering.cpp
LexicalReorderingState.cpp
LexicalReorderingTable.cpp
Manager.cpp
PCNTools.cpp
Parameter.cpp
PartialTranslOptColl.cpp
Phrase.cpp
PhraseDictionary.cpp
PhraseDictionaryALSuffixArray.cpp
PhraseDictionaryDynSuffixArray.cpp
PhraseDictionaryHiero.cpp
PhraseDictionaryMemory.cpp
PhraseDictionarySCFG.cpp
PhraseDictionaryNode.cpp
PhraseDictionaryNodeSCFG.cpp
PhraseDictionaryOnDisk.cpp
PhraseDictionaryTree.cpp
PhraseDictionaryTreeAdaptor.cpp
PrefixTreeMap.cpp
ReorderingConstraint.cpp
ReorderingStack.cpp
RuleCube.cpp
RuleCubeItem.cpp
RuleCubeQueue.cpp
RuleTableLoaderCompact.cpp
RuleTableLoaderFactory.cpp
RuleTableLoaderHiero.cpp
RuleTableLoaderStandard.cpp
ScoreComponentCollection.cpp
ScoreIndexManager.cpp
ScoreProducer.cpp
Search.cpp
SearchCubePruning.cpp
SearchNormal.cpp
Sentence.cpp
SentenceStats.cpp
SquareMatrix.cpp
StaticData.cpp
TargetPhrase.cpp
TargetPhraseCollection.cpp
ThreadPool.cpp
Timer.cpp
TranslationOption.cpp
TranslationOptionCollection.cpp
TranslationOptionCollectionConfusionNet.cpp
TranslationOptionCollectionText.cpp
TranslationOptionList.cpp
TranslationSystem.cpp
TreeInput.cpp
TrellisPath.cpp
TrellisPathCollection.cpp
UserMessage.cpp
Util.cpp
Word.cpp
WordLattice.cpp
WordsBitmap.cpp
WordsRange.cpp
XmlOption.cpp

synlm
InputFileStream LM//LM headers ;
